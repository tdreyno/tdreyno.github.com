<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge;chrome=1">
<!-- Google Setup --><meta content="VbyiHsqFIT6NSIBRNw/TAnm+9zy0TAmFRiC68lYCoSw=" name="verify-v1">
<!-- OpenID Setup --><link href="http://www.myopenid.com/server" rel="openid.server">
<link href="http://tdreyno.myopenid.com/" rel="openid.delegate">
<link href="http://tdreyno.myopenid.com" rel="openid2.local_id">
<link href="http://www.myopenid.com/server" rel="openid2.provider">
<meta content="http://www.myopenid.com/xrds?username=tdreyno.myopenid.com" http-equiv="X-XRDS-Location">
<title>NHaml idiosyncrasies Â« Thomas Reynolds</title>
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]--><!-- Stylesheet --><link rel="stylesheet" type="text/css" href="/stylesheets/style.css?v2">
<!-- RSS --><link href="http://feeds2.feedburner.com/awf-allposts" rel="alternate" title="Award Winning Fjords" type="application/rss+xml">
<script src="/javascripts/modernizr.custom.js" type="text/javascript"></script><script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.js"></script><!--script type="text/javascript" src="/javascripts/jqwidont.js"></script-->
</head>
<body class="post">
    <header><div class="center">
        <h1><a href="/">Award-Winning Fjords</a></h1>
        <h2 class="byline author vcard">
          Words &amp; Wisdom by 
          <span class="fn">Thomas Reynolds</span>
        </h2>

        <p id="social">
          <a href="http://github.com/tdreyno">GitHub</a> &amp; <a href="http://twitter.com/tdreyno">Twitter</a><br><a id="contact" href="mailto:me@tdreyno.com">Contact me</a>
        </p>
      </div>
    </header><div id="frame">
      <div id="post">
        
          
          <article class="hentry"><h1 class="entry-title">
    NHaml idiosyncrasies 
    <time class="updated" pubdate>Apr 30 2009</time>
</h1>

  <!--div id='rdbWrapper' style="float: right; display: inline; width: 150px; height: 50px;"></div><br clear="all" /><script type='text/javascript'>
  (function() {
      var s     = document.getElementsByTagName('script')[0],
          rdb   = document.createElement('script');
      rdb.type  = 'text/javascript';
      rdb.async = true;
      rdb.src   = document.location.protocol + '//www.readability.com/embed.js';
      s.parentNode.insertBefore(rdb, s);
  })();
  </script-->
  
  <div class="entry-content">
    <p><a href="http://code.google.com/p/nhaml/">NHaml</a> is an implementation of Haml for the .NET runtime. Specifically it runs inside .NET's new MVC architecture. This implementation is missing quite a few Haml niceties and the language has actually been altered in many places to be more C#-like. Personally, I think this is a poor decision. Imagine if Javascript had different syntax depending on the browser it was running in? Well... I guess Microsoft has JScript and VBScript so maybe this is just how Windows programmers operate. But, I digress. Here are some gotchas should you contemplate using NHaml.</p>

<h2>Instead of Ruby hashes, parameters are C# Key-Value pairs</h2>

<p>This means Ruby's symbols (prefixed with a colon) are now just plain keys. Similarly, the hashrocket (=&gt;) becomes a normal equals sign</p>

<pre>Before: %link{ :type =&gt; "text/css", :rel =&gt; "stylesheet", :src =&gt; "style.css" }
After:  %link{ type="text/css", rel="stylesheet", src="style.css" }
</pre>

<p><strong>[Edit: As of NHaml 2.0 beta 2, the syntax for attributes has changed and now appears exactly like normal HTML attributes (no commas are used). The above code would now be written is as follows:]</strong></p>

<pre>%link{ type="text/css" rel="stylesheet" src="style.css" }
</pre>

<h2>Single-quotes are not allowed</h2>

<p>C# apparently uses single-quotes to denote a character, not a string.</p>

<pre>Before: %input{ :type =&gt; 'text' }
After:  %input{ type="text" }
</pre>

<h2>Lines cannot be started with an ampersand (&amp;) character</h2>

<p>NHaml has a special meaning for lines like this. Apparently it is for automatically escaping the contents of that line. You will need to escape the ampersand:</p>

<pre>Before: &amp;ldquo;Hi&amp;rdquo;
After:  \&amp;ldquo;Hi&amp;rdquo;
</pre>

<h2>NHaml HATES white-space-only lines</h2>

<p>Basically, if you're using empty lines to space out your code, NHaml requires that they contain as much indentation as the section they are supposed to be a part of or else they will clear out your nesting.</p>

<p>Given the following Haml</p>

<pre>%ul
  %li
    Text

  %li
    Text2
</pre>

<p>NHaml will render this as:</p>



<p>So remember to remove white-space-only lines until this issue is resolved.</p>

<h2>Conclusion</h2>

<p>All in all, I'm still really happy to be able to use Haml in the .NET environment. It took me 5 hours yesterday to build a relatively complicated 20-page site in Haml. Today it took me 8 hours to get it working in NHaml, but this is a one-time penalty. Next time I can write my Haml with NHaml in mind.</p>

<p>I want to say thanks to the NHaml team. I hope the project is a success because it still needs some love and I would really like Sass support. I kind of feel sorry for C# programmers. The culture doesn't flock to open source like it does in the open source languages (Python, Ruby, etc). There seem to be fewer C# developers who live in HTML and are interested improving the front-end side of the .NET stack. However, it looks like things are improving.</p>

  </div>
</article><div id="comments">
  <div class="block">
    <h2>Comments</h2>

    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style ">
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
      <a class="addthis_button_tweet"></a>
    </div>
    <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#username=xa-4d1d09583a6522e4"></script><!-- AddThis Button END -->
</div>
  
  
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'awf';

      // var disqus_identifier = 'unique_dynamic_id_1234';
      var disqus_url = 'http://example.org/2009/04/30/nhaml-idiosyncrasies.html';

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
</div>

        
      </div>
      <aside id="previously"><p>My name is Thomas Reynolds. I'm a developer at <a href="http://metalabdesign.com">Metalab</a>, lucky denizen of Portland, active Crossfitter, a foodie, a cocktail enthusiast and all-around nerd.</p>
        
        <h2>
          Projects
          <a href="http://github.com/tdreyno">GitHub</a>
        </h2>
        <ol>
<li><a href="http://middlemanapp.com">Middleman</a></li>
          <li><a href="https://github.com/tdreyno/iphone-style-checkboxes">iPhone-style Checkboxes</a></li>
          <li><a href="http://secondstory.github.com/secondstoryjs-statemachine/">State Machine for JavascriptMVC</a></li>
          <li><a href="http://secondstory.github.com/secondstoryjs-router/">Router for JavascriptMVC</a></li>
          <li><a href="https://github.com/tdreyno/mustache-javascriptmvc">Mustache templates for JavascriptMVC</a></li>
          <li><a href="http://secondstory.github.com/jqueryChop/">jQuery Image Chop</a></li>
          <li><a href="https://github.com/tdreyno/javascriptmvc-pure">Pure templates for JavascriptMVC</a></li>
          <li><a href="https://github.com/tdreyno/compass-slickmap">Slickmap for Compass</a></li>
          <li><a href="https://github.com/tdreyno/compass-baseline">Baseline for Compass</a></li>
        </ol>
<h2>
          Recent Articles
          <a href="/archives">Archive</a>
        </h2>
        <ol>
<li>
<a href="/2011/08/08/middleman-2-0.html">Middleman 2.0</a> <span>Aug  8</span>
</li>
          
            <li>
<a href="/2011/05/13/coffeescript-specific-style-guide.html">CoffeeScript-specific Style Guide</a> <span>May 13</span>
</li>
          
            <li>
<a href="/2011/05/09/javascript-microframeworks-and-the-future.html">Javascript Microframeworks and The Future</a> <span>May  9</span>
</li>
          
            <li>
<a href="/2011/05/06/trigger-css3-animations-with-jquery.html">Trigger CSS3 Animations with jQuery</a> <span>May  6</span>
</li>
          
            <li>
<a href="/2011/05/03/jquerydeferred-image-preloader.html">jQuery.Deferred Image Preloader</a> <span>May  3</span>
</li>
          
            <li>
<a href="/2011/04/26/just-launched-pixelunion-v2.html">Just Launched: PixelUnion v2</a> <span>Apr 26</span>
</li>
          
            <li>
<a href="/2011/04/26/just-give-a-damn-about-something.html">Just Give a Damn About Something</a> <span>Apr 26</span>
</li>
          
            <li>
<a href="/2011/04/24/crossfit-is-for-nerds.html">CrossFit is for Nerds</a> <span>Apr 24</span>
</li>
          
            <li>
<a href="/2011/04/23/branching-out-opening-up-and-publishing-more.html">Branching Out, Opening Up and Publishing More</a> <span>Apr 23</span>
</li>
          
            <li>
<a href="/2011/04/15/middleman-v11.html">Middleman v1.1</a> <span>Apr 15</span>
</li>
          
        
      </ol></aside>
</div>
    
    <script type="text/javascript">
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4d770721192b0c4ab6000002');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script><!-- Google Analytics --><script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-90027-9']);
      _gaq.push(['_trackPageview']);
      _gaq.push(['_trackPageLoadTime']);

      (function() {
      var ga = document.createElement('script');
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 
        'http://www') + '.google-analytics.com/ga.js';
      ga.setAttribute('async', 'true');
      document.documentElement.firstChild.appendChild(ga);
      })();
    </script>
</body>
</html>
