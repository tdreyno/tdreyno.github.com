<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge;chrome=1">
<!-- <meta name="description" content=""> --><meta name="author" content="Thomas Reynolds">
<!-- Mobile viewport optimization http://goo.gl/b9SaQ --><meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Mobile IE allows us to activate ClearType technology for smoothing fonts for easy reading --><meta http-equiv="cleartype" content="on">
<!-- Google Setup --><meta content="VbyiHsqFIT6NSIBRNw/TAnm+9zy0TAmFRiC68lYCoSw=" name="verify-v1">
<!-- OpenID Setup --><link href="http://www.myopenid.com/server" rel="openid.server">
<link href="http://tdreyno.myopenid.com/" rel="openid.delegate">
<link href="http://tdreyno.myopenid.com" rel="openid2.local_id">
<link href="http://www.myopenid.com/server" rel="openid2.provider">
<meta content="http://www.myopenid.com/xrds?username=tdreyno.myopenid.com" http-equiv="X-XRDS-Location">
<title>Adjustable Animations with Sliders Â« Thomas Reynolds</title>
<script src="/javascripts/modernizr.custom.js" type="text/javascript"></script><script src="/mint/?js" type="text/javascript"></script><!-- Stylesheet --><link href="/stylesheets/style.css" media="screen and (min-width: 768px)" rel="stylesheet" type="text/css">
<link href="/stylesheets/mobile.css" media="only screen and (max-width: 767px)" rel="stylesheet" type="text/css">
<!-- RSS --><link href="http://feeds2.feedburner.com/awf-allposts" rel="alternate" title="Award Winning Fjords" type="application/rss+xml">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.js"></script>
</head>
<body class="post">
    <header><div class="center">
        <h1><a href="/">Award-Winning Fjords</a></h1>
        <h2 class="byline author vcard">
          Words &amp; Wisdom by 
          <span class="fn">Thomas Reynolds</span>
        </h2>

        <p id="social">
          <a href="http://github.com/tdreyno">GitHub</a> &amp;
          <a href="http://twitter.com/tdreyno">Twitter</a><br><a id="contact" href="mailto:me@tdreyno.com">Contact me</a>
        </p>
      </div>
    </header><div id="frame">
      <div id="post">
        
          
          <article class="hentry"><h1 class="entry-title">
    Adjustable Animations with Sliders 
    <time class="updated" pubdate>Apr 13 2011</time>
</h1>

  <!--div id='rdbWrapper' style="float: right; display: inline; width: 150px; height: 50px;"></div><br clear="all" /><script type='text/javascript'>
  (function() {
      var s     = document.getElementsByTagName('script')[0],
          rdb   = document.createElement('script');
      rdb.type  = 'text/javascript';
      rdb.async = true;
      rdb.src   = document.location.protocol + '//www.readability.com/embed.js';
      s.parentNode.insertBefore(rdb, s);
  })();
  </script-->
  
  <div class="entry-content">
    <p>Quick question? What is the perfect amount of time to animate an element on a page? jQuery defaults to 400ms, which sounds short, but ends up being pretty perfect for most occasions. It gets the job done and then it gets out of the way. </p>

<p>However, it shouldn't surprise you that designers have opinions on motion and we're just now reaching the point where motion is becoming important on the web.  Back in the day, 37Signals would just set the background of an element to yellow and call it a day. If you take a look at <a href="http://getflow.com">Flow</a>, you'll see some very designed motion. Closing a task results in the checkbox animating to a state, then it picks up and animates along an arc to drop into the "completed" box in your sidebar.</p>

<p>Okay, so, what's the perfect timing for that animation? There are tools for prototyping motion, most notably Adobe Flash, but usually you're designer is going to want to look over your shoulder and tweak the animation until it "feels right."</p>

<p>The solution is something I've seen friends in the old-school OpenGL motion build into their dev workflow. Every time they've got a motion variable (duration, size, color, wobble, randomness, etc), they setup a control to adjust the variable. Who wants to change integers in OpenGL and recompile? Like so many things, it's time to re-learn tricks from the desktop world if we're going to move forward.</p>

<p>Here, below is the most basic example. I have a square that is animating back and forth and changing width and height. In a more complicated example, it might arc or have several animations queued up. I've used a shiny new HTML5 <tt>range</tt> element and each time the animation loops, it checks the value to define it's duration.</p>

<pre>&lt;!-- Ranges from 0-4000, with integer steps. Defaults to 400 --&gt;
&lt;input type="range" min="0" max="4000" step="1" value="400"&gt;
</pre>

<p>The animation looks like:</p>

<pre>$elem.animate({ left: 480, width: 100, height: 100 }, {
  duration: $("input[type=range]").val()
});
</pre>

<p>Simple enough. If I were implementing an animation, vaguely defined in a PSD, I'd setup something like this and then let the designer have a field day. Developers love round numbers and math, but the "best" timing may actually be the combination of an esoteric easing function and a duration of 962.</p>

<p>This gets even more interesting if you're using something like WebGL, Three.js or Box2d.js. Adjust physics engines on the fly makes finding the perfect balance a cinch.</p>

<h1>Demo</h1>

<p>Here we have a little animating square, a slider to control the duration and a bunch of easing options. Go ahead, play around and find the "sweet spot."</p>

<script type="text/javascript" charset="utf-8">
  $.getScript("/javascripts/jquery.easing.1.3.js", function() {

    $(function($) {
      $(".range").change(function() {
        $(".speed").text($(this).val());
      }).change();

      function getEasing() {
        return $(".easing").val();
      }

      function getSliderValue() {
        return parseInt($(".range").val(), 10);
      }

      function animateRight() {
        $(".box").stop().animate({ left: 380, width: 100, height: 100 }, {
          duration: getSliderValue(), 
          easing:   getEasing(),
          complete: function() {
            setTimeout(animateLeft, 750);
          }
        });
      }

      function animateLeft() {
        $(".box").stop().animate({ left: 0, width: 50, height: 50 }, {
          duration: getSliderValue(), 
          easing:   getEasing(),
          complete: function() {
            setTimeout(animateRight, 750);
          }
        });
      }

      animateRight();
    });
  });
</script><div class="demo" style="width: 600px; height: 300px; position: relative; overflow: hidden;">
  Duration: <span class="speed"></span><br><input class="range" type="range" min="0" max="4000" step="1" value="1400" style="width: 300;"><br>
  Easing: <select class="easing"><option>swing</option>
<option>easeInQuad</option>
<option>easeOutQuad</option>
<option>easeInOutQuad</option>
<option>easeInCubic</option>
<option>easeOutCubic</option>
<option>easeInOutCubic</option>
<option>easeInQuart</option>
<option>easeOutQuart</option>
<option>easeInOutQuart</option>
<option>easeInQuint</option>
<option>easeOutQuint</option>
<option>easeInOutQuint</option>
<option>easeInSine</option>
<option>easeOutSine</option>
<option>easeInOutSine</option>
<option>easeInExpo</option>
<option>easeOutExpo</option>
<option>easeInOutExpo</option>
<option>easeInCirc</option>
<option>easeOutCirc</option>
<option>easeInOutCirc</option>
<option>easeInElastic</option>
<option>easeOutElastic</option>
<option>easeInOutElastic</option>
<option>easeInBack</option>
<option>easeOutBack</option>
<option>easeInOutBack</option>
<option>easeInBounce</option>
<option selected>easeOutBounce</option>
<option>easeInOutBounce</option></select><br><div class="box" style="width: 50px; height: 50px; background: red; position: absolute; top: 75px; left: 10px;"></div>

<p></p>
</div>

  </div>
</article><div id="comments">
  <div class="block">
    <h2>Comments</h2>

    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style ">
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
      <a class="addthis_button_tweet"></a>
    </div>
    <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#username=xa-4d1d09583a6522e4"></script><!-- AddThis Button END -->
</div>
  
  
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'awf';

      // var disqus_identifier = 'unique_dynamic_id_1234';
      // var disqus_url = 'http://example.org/2011/04/13/adjustable-animations-with-sliders.html';

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
</div>

        
      </div>
      <aside id="previously"><p>My name is Thomas Reynolds. I'm a developer at <a href="http://weareinstrument.com">Instrument</a>, lucky denizen of Portland, active Crossfitter, a foodie, a cocktail enthusiast and all-around nerd.</p>
        
        <h2>
          Projects
          <a href="http://github.com/tdreyno">GitHub</a>
        </h2>
        <ol>
<li><a href="http://middlemanapp.com">Middleman</a></li>
          <li><a href="https://github.com/tdreyno/iphone-style-checkboxes">iPhone-style Checkboxes</a></li>
          <li><a href="http://secondstory.github.com/secondstoryjs-statemachine/">State Machine for JavascriptMVC</a></li>
          <li><a href="http://secondstory.github.com/secondstoryjs-router/">Router for JavascriptMVC</a></li>
          <li><a href="https://github.com/tdreyno/mustache-javascriptmvc">Mustache templates for JavascriptMVC</a></li>
          <li><a href="http://secondstory.github.com/jqueryChop/">jQuery Image Chop</a></li>
          <li><a href="https://github.com/tdreyno/javascriptmvc-pure">Pure templates for JavascriptMVC</a></li>
          <li><a href="https://github.com/tdreyno/compass-slickmap">Slickmap for Compass</a></li>
          <li><a href="https://github.com/tdreyno/compass-baseline">Baseline for Compass</a></li>
        </ol>
<h2>
          Recent Articles
          <a href="/archives">Archive</a>
        </h2>
        <ol>
<li>
<a href="/2011/11/03/just-launched-thelicenselab.html">Just Launched: The License Lab</a> <span>Nov  3</span>
</li>
          
            <li>
<a href="/2011/09/11/just-launched-metalab-v4.html">Just Launched: Metalab Design v4</a> <span>Sep 11</span>
</li>
          
            <li>
<a href="/2011/08/08/middleman-2-0.html">Middleman 2.0</a> <span>Aug  8</span>
</li>
          
            <li>
<a href="/2011/05/13/coffeescript-specific-style-guide.html">CoffeeScript-specific Style Guide</a> <span>May 13</span>
</li>
          
            <li>
<a href="/2011/05/09/javascript-microframeworks-and-the-future.html">Javascript Microframeworks and The Future</a> <span>May  9</span>
</li>
          
            <li>
<a href="/2011/05/06/trigger-css3-animations-with-jquery.html">Trigger CSS3 Animations with jQuery</a> <span>May  6</span>
</li>
          
            <li>
<a href="/2011/05/03/jquerydeferred-image-preloader.html">jQuery.Deferred Image Preloader</a> <span>May  3</span>
</li>
          
            <li>
<a href="/2011/04/26/just-give-a-damn-about-something.html">Just Give a Damn About Something</a> <span>Apr 26</span>
</li>
          
            <li>
<a href="/2011/04/26/just-launched-pixelunion-v2.html">Just Launched: PixelUnion v2</a> <span>Apr 26</span>
</li>
          
            <li>
<a href="/2011/04/24/crossfit-is-for-nerds.html">CrossFit is for Nerds</a> <span>Apr 24</span>
</li>
          
        
      </ol></aside>
</div>
    
    <!-- Google Analytics -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-90027-9']);
      _gaq.push(['_trackPageview']);
      _gaq.push(['_trackPageLoadTime']);

      (function() {
      var ga = document.createElement('script');
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 
        'http://www') + '.google-analytics.com/ga.js';
      ga.setAttribute('async', 'true');
      document.documentElement.firstChild.appendChild(ga);
      })();
    </script>
</body>
</html>
